<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      .box h1 {
        font-size: 7.8125vw;
      }

      .red {
        color: red;
      }
    </style>
  </head>
  <body>
    <div class="box">
      <h1>Hello World!</h1>
    </div>

    <script>
      let chars = [
        "?",
        "!",
        "a",
        "b",
        "c",
        "d",
        "e",
        "f",
        "g",
        "h",
        "i",
        "j",
        "k",
        "l",
        "m",
        "n",
        "o",
        "p",
        "q",
        "r",
        "s",
        "t",
        "u",
        "v",
        "w",
        "x",
        "y",
        "z",
        "A",
        "B",
        "C",
        "D",
        "E",
        "F",
        "G",
        "H",
        "I",
        "J",
        "K",
        "L",
        "M",
        "N",
        "O",
        "P",
        "Q",
        "R",
        "S",
        "T",
        "U",
        "V",
        "W",
        "X",
        "Y",
        "Z",
        "0",
        "1",
        "2",
        "3",
        "4",
        "5",
        "6",
        "7",
        "8",
        "9",
        "&#63;",
        "&#111;",
        "&quot;",
        "&amp;",
        "&lt;",
        "&gt;",
        "&nbsp;",
        "&iexcl;",
        "&cent;",
        "&pound;",
        "&curren;",
        "&yen;",
        "&brvbar;",
        "&sect;",
        "&uml;",
        "&copy;",
        "&ordf;",
        "&laquo;",
        "&not;",
        "&shy;",
        "&reg;",
        "&macr;",
        "&deg;",
        "&plusmn;",
        "&sup2;",
        "&sup3;",
        "&acute;",
        "&micro;",
        "&para;",
        "&middot;",
        "&cedil;",
        "&sup1;",
        "&ordm;",
        "&raquo;",
        "&frac14;",
        "&frac12;",
        "&frac34;",
        "&iquest;",
        "&Agrave;",
        "&Aacute;",
        "&Acirc;",
        "&Atilde;",
        "&Auml;",
        "&Aring;",
        "&AElig;",
        "&Ccedil;",
        "&Egrave;",
        "&Eacute;",
        "&Ecirc;",
        "&Euml;",
        "&Igrave;",
        "&Iacute;",
        "&Icirc;",
        "&Iuml;",
        "&ETH;",
        "&Ntilde;",
        "&Ograve;",
        "&Oacute;",
        "&Ocirc;",
        "&Otilde;",
        "&Ouml;",
        "&times;",
        "&Oslash;",
        "&Ugrave;",
        "&Uacute;",
        "&Ucirc;",
        "&Uuml;",
        "&Yacute;",
        "&THORN;",
        "&szlig;",
        "&agrave;",
        "&aacute;",
        "&acirc;",
        "&atilde;",
        "&auml;",
        "&aring;",
        "&aelig;",
        "&ccedil;",
        "&egrave;",
        "&eacute;",
        "&ecirc;",
        "&euml;",
        "&igrave;",
        "&iacute;",
        "&icirc;",
        "&iuml;",
        "&eth;",
        "&ntilde;",
        "&ograve;",
        "&oacute;",
        "&ocirc;",
        "&otilde;",
        "&ouml;",
        "&divide;",
        "&oslash;",
        "&ugrave;",
        "&uacute;",
        "&ucirc;",
        "&uuml;",
        "&yacute;",
        "&thorn;",
        "&yuml;",
        "&#264;",
        "&#265;",
        "&OElig;",
        "&oelig;",
        "&Scaron;",
        "&scaron;",
        "&#372;",
        "&#373;",
        "&#374;",
        "&#375;",
        "&Yuml;",
        "&fnof;",
        "&circ;",
        "&tilde;",
        "&Alpha;",
        "&Beta;",
        "&Gamma;",
        "&Delta;",
        "&Epsilon;",
        "&Zeta;",
        "&Eta;",
        "&Theta;",
        "&Iota;",
        "&Kappa;",
        "&Lambda;",
        "&Mu;",
        "&Nu;",
        "&Xi;",
        "&Omicron;",
        "&Pi;",
        "&Rho;",
        "&Sigma;",
        "&Tau;",
        "&Upsilon;",
        "&Phi;",
        "&Chi;",
        "&Psi;",
        "&Omega;",
        "&alpha;",
        "&beta;",
        "&gamma;",
        "&delta;",
        "&epsilon;",
        "&zeta;",
        "&eta;",
        "&theta;",
        "&iota;",
        "&kappa;",
        "&lambda;",
        "&mu;",
        "&nu;",
        "&xi;",
        "&omicron;",
        "&pi;",
        "&rho;",
        "&sigmaf;",
        "&sigma;",
        "&tau;",
        "&upsilon;",
        "&phi;",
        "&chi;",
        "&psi;",
        "&omega;",
        "&thetasym;",
        "&upsih;",
        "&piv;",
        "&ensp;",
        "&emsp;",
        "&thinsp;",
        "&zwnj;",
        "&zwj;",
        "&lrm;",
        "&rlm;",
        "&ndash;",
        "&mdash;",
        "&lsquo;",
        "&rsquo;",
        "&sbquo;",
        "&ldquo;",
        "&rdquo;",
        "&bdquo;",
        "&dagger;",
        "&Dagger;",
        "&bull;",
        "&hellip;",
        "&permil;",
        "&prime;",
        "&Prime;",
        "&lsaquo;",
        "&rsaquo;",
        "&oline;",
        "&frasl;",
        "&euro;",
        "&weierp;",
        "&image;",
        "&real;",
        "&trade;",
        "&alefsym;",
        "&larr;",
        "&uarr;",
        "&rarr;",
        "&darr;",
        "&harr;",
        "&crarr;",
        "&lArr;",
        "&uArr;",
        "&rArr;",
        "&dArr;",
        "&hArr;",
        "&forall;",
        "&part;",
        "&exist;",
        "&empty;",
        "&nabla;",
        "&isin;",
        "&notin;",
        "&ni;",
        "&prod;",
        "&sum;",
        "&minus;",
        "&lowast;",
        "&#8729;",
        "&radic;",
        "&prop;",
        "&infin;",
        "&ang;",
        "&and;",
        "&or;",
        "&cap;",
        "&cup;",
        "&int;",
        "&there4;",
        "&sim;",
        "&cong;",
        "&asymp;",
        "&ne;",
        "&equiv;",
        "&le;",
        "&ge;",
        "&sub;",
        "&sup;",
        "&nsub;",
        "&sube;",
        "&supe;",
        "&oplus;",
        "&otimes;",
        "&perp;",
        "&sdot;",
        "&lceil;",
        "&rceil;",
        "&lfloor;",
        "&rfloor;",
        "&lang;",
        "&rang;",
        "&#9642;",
        "&#9643;",
        "&loz;",
        "&#9702;",
        "&spades;",
        "&clubs;",
        "&hearts;",
        "&diams;",
      ];
      let h1 = document.querySelector("h1");
      let strings = h1.innerHTML.split("");

      let spans = strings.map((str) => {
        if (str === " ") return " ";
        else return `<span>${str}</span>`;
      });

      h1.innerHTML = spans.join("");

      let elems = h1.querySelectorAll("span");

      Array.prototype.map.call(elems, (elem, idx) => {
        elem.dataset.char = elem.innerHTML;
        shuffle(elem, new Date().getTime(), idx * 100);
      });

      function shuffle(elem, start, delay) {
        let num = Math.floor(Math.random() * chars.length);
        let current = new Date().getTime();

        if (100 + delay < current - start) {
          elem.innerHTML = elem.dataset.char;
          setTimeout(() => {
            shuffle(elem, current, delay);
          }, 1000);
        } else {
          elem.innerHTML = chars[num];
          setTimeout(() => {
            shuffle(elem, start, delay);
          }, 50);
        }
      }
    </script>
  </body>
</html>
